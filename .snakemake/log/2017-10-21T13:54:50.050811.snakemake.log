Provided cluster nodes: 100
Provided resources: mem_mb=720000
Job counts:
	count	jobs
	1	all
	2	calc_gem_mappability
	7	calculate_uniq_mappable
	1	create_summary
	2	gem_2_wig
	3	wig_2_bw
	16

rule calculate_uniq_mappable:
    input: mm10_gem_index_35.mappability
    output: mm10_gem_index_35.uniq.counts
    jobid: 27
    wildcards: prefix=mm10_gem_index, kmer=35

gawk '{c+=gsub(s,s)}END{print c}' s='!' mm10_gem_index_35.mappability > mm10_gem_index_35.uniq.counts
Submitted job 27 with external jobid '24978788.hpc-pbs1.hpcc.usc.edu'.

rule calc_gem_mappability:
    input: mm10_gem_index.gem
    output: mm10_gem_index_50.mappability
    jobid: 14
    wildcards: prefix=mm10_gem_index, kmer=50
    threads: 16

gem-mappability -T 16 -I mm10_gem_index.gem -l 50 -o mm10_gem_index_50
Submitted job 14 with external jobid '24978789.hpc-pbs1.hpcc.usc.edu'.

rule calculate_uniq_mappable:
    input: mm10_gem_index_25.mappability
    output: mm10_gem_index_25.uniq.counts
    jobid: 26
    wildcards: prefix=mm10_gem_index, kmer=25

gawk '{c+=gsub(s,s)}END{print c}' s='!' mm10_gem_index_25.mappability > mm10_gem_index_25.uniq.counts
Submitted job 26 with external jobid '24978790.hpc-pbs1.hpcc.usc.edu'.

rule calculate_uniq_mappable:
    input: mm10_gem_index_20.mappability
    output: mm10_gem_index_20.uniq.counts
    jobid: 23
    wildcards: prefix=mm10_gem_index, kmer=20

gawk '{c+=gsub(s,s)}END{print c}' s='!' mm10_gem_index_20.mappability > mm10_gem_index_20.uniq.counts
Submitted job 23 with external jobid '24978791.hpc-pbs1.hpcc.usc.edu'.

rule calculate_uniq_mappable:
    input: mm10_gem_index_40.mappability
    output: mm10_gem_index_40.uniq.counts
    jobid: 24
    wildcards: prefix=mm10_gem_index, kmer=40

gawk '{c+=gsub(s,s)}END{print c}' s='!' mm10_gem_index_40.mappability > mm10_gem_index_40.uniq.counts
Submitted job 24 with external jobid '24978792.hpc-pbs1.hpcc.usc.edu'.

rule calc_gem_mappability:
    input: mm10_gem_index.gem
    output: mm10_gem_index_30.mappability
    jobid: 1
    wildcards: prefix=mm10_gem_index, kmer=30
    threads: 16

gem-mappability -T 16 -I mm10_gem_index.gem -l 30 -o mm10_gem_index_30
Submitted job 1 with external jobid '24978793.hpc-pbs1.hpcc.usc.edu'.

rule wig_2_bw:
    input: wigs/mm10_gem_index_35.wig
    output: bigWigs/mm10_gem_index_35.bw
    jobid: 7
    wildcards: prefix=mm10_gem_index, kmer=35

wigToBigWig wigs/mm10_gem_index_35.wig /home/cmb-panasas2/skchoudh/genomes/mm10/fasta/mm10.chrom.sizes bigWigs/mm10_gem_index_35.bw
Submitted job 7 with external jobid '24978794.hpc-pbs1.hpcc.usc.edu'.

rule calculate_uniq_mappable:
    input: mm10_gem_index_45.mappability
    output: mm10_gem_index_45.uniq.counts
    jobid: 22
    wildcards: prefix=mm10_gem_index, kmer=45

gawk '{c+=gsub(s,s)}END{print c}' s='!' mm10_gem_index_45.mappability > mm10_gem_index_45.uniq.counts
Submitted job 22 with external jobid '24978795.hpc-pbs1.hpcc.usc.edu'.
Finished job 27.
1 of 16 steps (6%) done
Finished job 26.
2 of 16 steps (12%) done
Finished job 23.
3 of 16 steps (19%) done
Finished job 24.
4 of 16 steps (25%) done
Finished job 22.
5 of 16 steps (31%) done
Finished job 7.
6 of 16 steps (38%) done
Finished job 14.
7 of 16 steps (44%) done

rule gem_2_wig:
    input: mm10_gem_index.gem, mm10_gem_index_50.mappability
    output: wigs/mm10_gem_index_50.wig
    jobid: 29
    wildcards: prefix=mm10_gem_index, kmer=50

gem-2-wig -I mm10_gem_index.gem -i mm10_gem_index_50.mappability -o wigs/mm10_gem_index_50
Submitted job 29 with external jobid '24979353.hpc-pbs1.hpcc.usc.edu'.

rule calculate_uniq_mappable:
    input: mm10_gem_index_50.mappability
    output: mm10_gem_index_50.uniq.counts
    jobid: 25
    wildcards: prefix=mm10_gem_index, kmer=50

gawk '{c+=gsub(s,s)}END{print c}' s='!' mm10_gem_index_50.mappability > mm10_gem_index_50.uniq.counts
Submitted job 25 with external jobid '24979354.hpc-pbs1.hpcc.usc.edu'.
Finished job 29.
8 of 16 steps (50%) done

rule wig_2_bw:
    input: wigs/mm10_gem_index_50.wig
    output: bigWigs/mm10_gem_index_50.bw
    jobid: 13
    wildcards: prefix=mm10_gem_index, kmer=50

wigToBigWig wigs/mm10_gem_index_50.wig /home/cmb-panasas2/skchoudh/genomes/mm10/fasta/mm10.chrom.sizes bigWigs/mm10_gem_index_50.bw
Submitted job 13 with external jobid '24979360.hpc-pbs1.hpcc.usc.edu'.
Finished job 25.
9 of 16 steps (56%) done
Finished job 13.
10 of 16 steps (62%) done
Finished job 1.
11 of 16 steps (69%) done

rule gem_2_wig:
    input: mm10_gem_index.gem, mm10_gem_index_30.mappability
    output: wigs/mm10_gem_index_30.wig
    jobid: 18
    wildcards: prefix=mm10_gem_index, kmer=30

gem-2-wig -I mm10_gem_index.gem -i mm10_gem_index_30.mappability -o wigs/mm10_gem_index_30
Submitted job 18 with external jobid '24992062.hpc-pbs1.hpcc.usc.edu'.

rule calculate_uniq_mappable:
    input: mm10_gem_index_30.mappability
    output: mm10_gem_index_30.uniq.counts
    jobid: 21
    wildcards: prefix=mm10_gem_index, kmer=30

gawk '{c+=gsub(s,s)}END{print c}' s='!' mm10_gem_index_30.mappability > mm10_gem_index_30.uniq.counts
Submitted job 21 with external jobid '24992063.hpc-pbs1.hpcc.usc.edu'.
Finished job 21.
12 of 16 steps (75%) done

rule create_summary:
    input: mm10_gem_index_20.uniq.counts, mm10_gem_index_25.uniq.counts, mm10_gem_index_30.uniq.counts, mm10_gem_index_35.uniq.counts, mm10_gem_index_40.uniq.counts, mm10_gem_index_45.uniq.counts, mm10_gem_index_50.uniq.counts
    output: summary_counts.tsv
    jobid: 10

Submitted job 10 with external jobid '24992811.hpc-pbs1.hpcc.usc.edu'.
Finished job 18.
13 of 16 steps (81%) done

rule wig_2_bw:
    input: wigs/mm10_gem_index_30.wig
    output: bigWigs/mm10_gem_index_30.bw
    jobid: 4
    wildcards: prefix=mm10_gem_index, kmer=30

wigToBigWig wigs/mm10_gem_index_30.wig /home/cmb-panasas2/skchoudh/genomes/mm10/fasta/mm10.chrom.sizes bigWigs/mm10_gem_index_30.bw
Submitted job 4 with external jobid '24992941.hpc-pbs1.hpcc.usc.edu'.
Finished job 10.
14 of 16 steps (88%) done
Finished job 4.
15 of 16 steps (94%) done

localrule all:
    input: mm10_gem_index.gem, mm10_gem_index_20.mappability, mm10_gem_index_25.mappability, mm10_gem_index_30.mappability, mm10_gem_index_35.mappability, mm10_gem_index_40.mappability, mm10_gem_index_45.mappability, mm10_gem_index_50.mappability, bigWigs/mm10_gem_index_20.bw, bigWigs/mm10_gem_index_25.bw, bigWigs/mm10_gem_index_30.bw, bigWigs/mm10_gem_index_35.bw, bigWigs/mm10_gem_index_40.bw, bigWigs/mm10_gem_index_45.bw, bigWigs/mm10_gem_index_50.bw, summary_counts.tsv
    jobid: 0

Finished job 0.
16 of 16 steps (100%) done
Complete log: /panfs/cmb-panasas2/skchoudh/github_projects/calculate_mappability/.snakemake/log/2017-10-21T13:54:50.050811.snakemake.log
